<!DOCTYPE html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="These brief instructions will help you build and run OpenKAI on Ubuntu 16.04LTS on x86_64 systems">
<meta name="keywords" content="Ubuntu 16.04LTS,  Ubuntu 16.04LTS">
<title>Installation for Ubuntu 16.04LTS on x86_64 systems | OpenKAI Documentation</title>
<link rel="stylesheet" href="css/syntax.css">


<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<link rel="stylesheet" href="css/lavish-bootstrap.css">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="http://localhost:4000feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> OpenKAI Documentation</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->
                
                
                
                <li><a href="https://github.com/yankailab/OpenKAI" target="_blank">OpenKAI</a></li>
                
                
                
                <li><a href="http://www.labromance.com" target="_blank">LabRomance</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Installation for Ubuntu 16.04LTS on x86_64 systems">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
    <div class="col-lg-12">&nbsp;</div>
    <!-- Content Row -->
    <div class="row">
        <!-- Sidebar Column -->
        <div class="col-md-3">

          












<ul id="mysidebar" class="nav">
    <li class="sidebarTitle">OpenKAI 1.0</li>
    
    
    
        
    
    <li>
        <a href="#">Getting Started</a>
        <ul>
            
            
            
            <li><a href="index.html">Introduction</a></li>
            
            
            
            
            
            
            <li><a href="tx1build.html">Build & Run on NVIDIA Jetson TX1</a></li>
            
            
            
            
            
            
            <li class="active"><a href="x86build.html">Installation for Ubuntu 16.04LTS on x86_64 systems</a></li>
            
            
            
            
            
            
            <li><a href="eclipse.html">Develop OpenKAI apps with Eclipse CDT</a></li>
            
            
            
            
        </ul>
        
        
        
        <!-- if you aren't using the accordion, uncomment this block:
           <p class="external">
               <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
           </p>
           -->
    </li>
</ul>
</div>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

    <!-- Content Column -->
    <div class="col-md-9">
        <div class="post-header">
   <h1 class="post-title-main">Installation for Ubuntu 16.04LTS on x86_64 systems</h1>
</div>



<div class="post-content">

   
    <div class="summary">These brief instructions will help you build and run OpenKAI on Ubuntu 16.04LTS on x86_64 systems</div>
   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    

  <h1 id="installation-for-ubuntu-1604lts-on-x86_64-systems">Installation for Ubuntu 16.04LTS on x86_64 systems</h1>

<h2 id="prerequisites">Prerequisites</h2>

<pre><code class="language-Shell">sudo apt-get update
sudo apt-get -y install git cmake build-essential cmake-curses-gui libatlas-base-dev libprotobuf-dev libleveldb-dev libsnappy-dev libboost-all-dev libhdf5-serial-dev libgflags-dev libgoogle-glog-dev liblmdb-dev protobuf-compiler libgtk2.0-dev pkg-config python-dev python-numpy libdc1394-22 libdc1394-22-dev libjpeg-dev libpng12-dev libjasper-dev libavcodec-dev libavformat-dev libswscale-dev libgstreamer0.10-dev libgstreamer-plugins-base0.10-dev libv4l-dev libtbb-dev libqt4-dev libfaac-dev libmp3lame-dev libopencore-amrnb-dev libopencore-amrwb-dev libtheora-dev libvorbis-dev libxvidcore-dev x264 v4l-utils unzip python-protobuf python-scipy python-pip libeigen3-dev default-jre
</code></pre>

<h2 id="cuda">CUDA</h2>
<p>Download the latest <a href="https://developer.nvidia.com/cuda-downloads">CUDA</a> and run</p>

<pre><code class="language-Shell">chmod u+x cuda_8.0.44_linux.run
./cuda_8.0.44_linux.run
sudo echo -e "export PATH=/usr/local/cuda/bin:\$PATH\nexport LD_LIBRARY_PATH=/usr/local/cuda/lib64:\$LD_LIBRARY_PATH" &gt;&gt; ~/.bashrc
</code></pre>

<h2 id="cudnn">cuDNN</h2>
<p>Download the latest <a href="https://developer.nvidia.com/cudnn">cuDNN</a> and run</p>

<pre><code class="language-Shell">tar xzvf cudnn-8.0-linux-x64-v5.1.tgz
cd cuda
sudo cp lib64/lib* /usr/local/cuda/lib64/
sudo cp include/* /usr/local/cuda/include/
sudo ldconfig
</code></pre>

<h2 id="git-repositories">Git repositories</h2>

<pre><code class="language-Shell">cd ~
mkdir src
cd src
git clone https://github.com/Itseez/opencv.git
git clone https://github.com/Itseez/opencv_contrib.git
git clone https://github.com/dusty-nv/jetson-inference.git
git clone https://github.com/yankailab/OpenKAI.git
</code></pre>

<h2 id="optional-edit-opencv">(Optional) Edit OpenCV</h2>
<p>If you are going to use ZED camera with OpenKAI, the latest ZED driver (v1.2) is built with OpenCV3.1, however, the latest OpenCV git marks the version with 3.2, which may brings difficulties in linking OpenCV .so files. A simple work-around is to change the version definition in the OpenCV repository. Open</p>

<p>opencv/modules/core/include/opencv2/core/version.hpp</p>

<p>and replace the following part</p>

<pre><code class="language-cxx">#define CV_VERSION_MAJOR    3
#define CV_VERSION_MINOR    2
#define CV_VERSION_REVISION 0
</code></pre>

<p>with</p>

<pre><code class="language-cxx">#define CV_VERSION_MAJOR    3
#define CV_VERSION_MINOR    1
#define CV_VERSION_REVISION 0
</code></pre>

<h2 id="build-opencv">Build OpenCV</h2>

<pre><code class="language-Shell">cd ~/src/opencv
mkdir build
cd build
ccmake ../
</code></pre>
<p>Setup the <a href="https://github.com/yankailab/OpenKAI/raw/master/doc/x86_64/Ubuntu/img/OpenCV_ccmake_1.png">build options p1</a>, <a href="https://github.com/yankailab/OpenKAI/raw/master/doc/x86_64/Ubuntu/img/OpenCV_ccmake_2.png">build options p2</a> and</p>

<pre><code class="language-Shell">make all -j8
sudo make install
</code></pre>

<h2 id="zed">ZED</h2>
<p>Download the latest driver from ZED site and run</p>

<pre><code class="language-Shell">chmod u+x ZED_SDK_Linux_Ubuntu16_CUDA80_v1.2.0.run
./ZED_SDK_Linux_Ubuntu16_CUDA80_v1.2.0.run
</code></pre>

<h2 id="tensorrt">TensorRT</h2>
<p>Download and install <a href="https://developer.nvidia.com/tensorrt">TensorRT</a>. If you came across the “Broken package” error, extract the files directly from TensorRT’s deb file and copy all the include files and lib files into the correspondent system directories. Optionally, download the <a href="">archive</a> of the exctracted file from the original .deb package, and run</p>

<pre><code class="language-Shell">tar xzvf nv-gie_1.0.0-1+cuda8.0_amd64.tar.gz
cd nv-gie_1.0.0-1+cuda8.0_amd64
sudo cp -rp libgie1/usr/* /usr/
sudo cp -rp libgie-dev/usr/* /usr/
</code></pre>

<h2 id="jetson-inference">jetson-inference</h2>
<p>Open the CMakeLists.txt in jetson-inference directory and replace the CUDA compute ability version in the following part with your own <a href="https://en.wikipedia.org/wiki/CUDA#GPUs_supported">CUDA device’</a></p>

<div class="language-cmake highlighter-rouge"><pre class="highlight"><code><span class="nb">set</span><span class="p">(</span>
	CUDA_NVCC_FLAGS
	<span class="si">${</span><span class="nv">CUDA_NVCC_FLAGS</span><span class="si">}</span>; 
    -O3 -gencode arch=compute_53,code=sm_53
<span class="p">)</span>
</code></pre>
</div>

<p>Next, replace the following part</p>

<pre><code class="language-Shell">include_directories(/usr/include/gstreamer-1.0 /usr/lib/aarch64-linux-gnu/gstreamer-1.0/include /usr/include/glib-2.0 /usr/include/libxml2 /usr/lib/aarch64-linux-gnu/glib-2.0/include/)
</code></pre>

<p>with</p>

<pre><code class="language-Shell">include_directories(/usr/include/gstreamer-1.0 /usr/lib/x86_64-linux-gnu/gstreamer-1.0/include /usr/include/glib-2.0 /usr/include/libxml2 /usr/lib/x86_64-linux-gnu/glib-2.0/include/)
</code></pre>

<p>then</p>

<pre><code class="language-Shell">cd ~/src/jetson-inference/
mkdir build
cd build
cmake ../
make
</code></pre>

<h2 id="build-openkai">Build OpenKAI</h2>

<pre><code class="language-Shell">cd ~/src/OpenKAI
mkdir build
cd build
ccmake ../
</code></pre>
<p>Setup the <a href="https://github.com/yankailab/OpenKAI/raw/master/doc/x86_64/Ubuntu/img/OpenKAI_ccmake.png">build options</a>, and</p>

<pre><code class="language-Shell">make all -j8
</code></pre>


    <div class="tags">
        
        <b>Tags: </b>
        
        
        
        
        
    </div>

    

</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2017 LabRomance. All rights reserved. <br />
 Site last generated: Mar 11, 2017 <br />
<p><img src="images/company_logo.png" alt="Company logo"/></p>
                </div>
            </div>
</footer>


    </div>
    <!-- /.row -->
</div>
<!-- /.container -->
    </div>

</body>

</html>